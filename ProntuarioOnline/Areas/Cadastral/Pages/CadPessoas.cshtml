@page
@using ProntuarioOnline.Areas.Cadastral.Pages.CadPessoas
@model CadPessoas
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
  Layout = "_Layout";
}

<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Cadastro de Pessoa</h4>
    </div>
    <div class="card-body">
      <form method="post">
        <!-- Nome -->
        <div class="mb-3">
          <label asp-for="Item.Nome" class="form-label"></label>
          <input asp-for="Item.Nome" class="form-control" placeholder="Digite o nome completo" />
          <span asp-validation-for="Item.Nome" class="text-danger"></span>
        </div>

        <!-- Nome Social -->
        <div class="mb-3">
          <label asp-for="Item.NomeSocial" class="form-label"></label>
          <input asp-for="Item.NomeSocial" class="form-control" placeholder="Digite o nome social (opcional)" />
          <span asp-validation-for="Item.NomeSocial" class="text-danger"></span>
        </div>

        <!-- Data de Nascimento -->
        <div class="mb-3">
          <label asp-for="Item.DataNascimento" class="form-label"></label>
          <input asp-for="Item.DataNascimento" type="date" class="form-control" />
          <span asp-validation-for="Item.DataNascimento" class="text-danger"></span>
        </div>

        <!-- CPF -->
        <div class="mb-3">
          <label asp-for="Item.Cpf" class="form-label"></label>
          <input asp-for="Item.Cpf" class="form-control" placeholder="Digite o CPF" />
          <span asp-validation-for="Item.Cpf" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-success">
          <i class="bi bi-save"></i> Salvar
        </button>
      </form>
    </div>
  </div>

  <hr class="my-4" />

  <div class="card shadow-sm">
    <div class="card-header bg-secondary text-white">
      <h5 class="mb-0">Pessoas cadastradas</h5>
    </div>
    <div class="card-body p-0">
      @if (Model.Items != null && Model.Items.Any())
      {
        <table class="table table-striped table-hover mb-0">
          <thead class="table-light">
            <tr>
              <th>Nome</th>
              <th>Nome Social</th>
              <th>Data de Nascimento</th>
              <th>CPF</th>
            </tr>
          </thead>
          <tbody>
            @foreach (var pessoa in Model.Items)
            {
              <tr>
                <td>@pessoa.Nome</td>
                <td>@pessoa.NomeSocial</td>
                <td>@pessoa.DataNascimento.ToString("dd/MM/yyyy")</td>
                <td>@pessoa.Cpf</td>
              </tr>
            }
          </tbody>
        </table>
      }
      else
      {
        <div class="p-3 text-muted">Nenhuma pessoa cadastrada.</div>
      }
    </div>
  </div>
</div>

@section Scripts {
  <partial name="_ValidationScriptsPartial" />
}