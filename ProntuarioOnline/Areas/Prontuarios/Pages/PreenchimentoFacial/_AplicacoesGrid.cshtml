@using Domain.Prontuarios
@model List<PtPreenchimentoFacialRelacaoAplicacaoVm>

<div class="card bg-secondary bg-opacity-10 mb-3 shadow-sm">
  <div class="card-header fw-bold">
    Aplicações
  </div>
  <div class="card-body">
    <table class="table table-bordered table-sm mb-3" id="aplicacoesTable">
      <thead class="table-light">
        <tr>
          <th>Área</th>
          <th>Data</th>
          <th>Quantidade</th>
          <th>Marca</th>
          <th>Produto</th>
          <th>Lote</th>
          <th>Validade</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        @if (Model != null && Model.Any())
        {
          for (int i = 0; i < Model.Count; i++)
          {
            <tr>
              <td><input type="text" name="Aplicacoes[@i].AreaAplicacao" value="@Model[i].AreaAplicacao" class="form-control" /></td>
              <td><input type="date" name="Aplicacoes[@i].Data" value="@Model[i].Data?.ToString("yyyy-MM-dd")" class="form-control" /></td>
              <td><input type="number" name="Aplicacoes[@i].Quantidade" value="@Model[i].Quantidade" class="form-control" /></td>
              <td><input type="text" name="Aplicacoes[@i].Marca" value="@Model[i].Marca" class="form-control" /></td>
              <td><input type="text" name="Aplicacoes[@i].Produto" value="@Model[i].Produto" class="form-control" /></td>
              <td><input type="text" name="Aplicacoes[@i].Lote" value="@Model[i].Lote" class="form-control" /></td>
              <td><input type="date" name="Aplicacoes[@i].Validade" value="@Model[i].Validade?.ToString("yyyy-MM-dd")" class="form-control" /></td>
              <td>
                <button type="button" class="btn btn-danger btn-sm remover-aplicacao">Remover</button>
              </td>
            </tr>
          }
        }
      </tbody>
    </table>

    <button type="button" id="btnAddAplicacao" class="btn btn-success btn-sm">Adicionar Aplicação</button>
  </div>
</div>